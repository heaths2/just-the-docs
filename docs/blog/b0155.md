---
layout: default
title: Linux iptables
parent: Blog
grand_parent: Category
permalink: docs/category/blog/b0155
child_nav_order: desc
---

# Linux iptables 사용법

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .no_toc .text-delta .label .label-green }
1. TOC
{:toc}
</details>

---

## 개요

> - Linux iptables 사용법
{: .new }

### 

```bash
```

> - `iptables` 옵션
> 
| 명령어 (단일 `-`) | 명령어 (이중 `--`)  | 설명                                                | 사용 예시                                      | 방화벽 표기 예시                           |
|:------------------|:---------------------|:----------------------------------------------------|:-----------------------------------------------|:-------------------------------------------|
| -A               | --append            | 체인의 끝에 규칙을 추가합니다.                      | iptables -A INPUT -s 192.168.0.1 -j ACCEPT    | 192.168.0.1:all → localhost:all ALL ACCEPT               |
| -D               | --delete            | 체인의 규칙을 삭제합니다.                          | iptables -D INPUT 1                           |                                           |
| -I               | --insert            | 체인의 특정 위치에 규칙을 삽입합니다.               | iptables -I INPUT 1 -s 192.168.0.1 -j ACCEPT  | 192.168.0.1:all → localhost:all ALL ACCEPT (at position 1) |
| -R               | --replace           | 체인의 특정 위치에 있는 규칙을 대체합니다.          | iptables -R INPUT 1 -s 192.168.0.1 -j ACCEPT  | 192.168.0.1:all → localhost:all ALL ACCEPT (replace position 1) |
| -L               | --list              | 체인의 규칙 목록을 출력합니다.                      | iptables -L                                   |                                           |
| -F               | --flush             | 체인의 모든 규칙을 삭제합니다.                      | iptables -F                                   |                                           |
| -X               | --delete-chain      | 모든 사용자 정의 체인을 삭제합니다.                 | iptables -X                                   |                                           |
| -P               | --policy            | 체인의 기본 정책을 설정합니다.                      | iptables -P INPUT DROP                        | all:all → all:all ALL DROP |
| -N               | --new-chain         | 새로운 사용자 정의 체인을 생성합니다.               | iptables -N my_chain                          |                                           |
| -E               | --rename-chain      | 사용자 정의 체인의 이름을 변경합니다.               | iptables -E old_chain new_chain               |                                           |
| -p               | --protocol          | 패킷의 프로토콜을 지정합니다.                       | iptables -A INPUT -p tcp                      | all:all → all:all TCP ACCEPT |
| -s               | --source            | 소스 IP 주소를 지정합니다.                          | iptables -A INPUT -s 192.168.0.1              | 192.168.0.1:all → all:all ALL ACCEPT |
| -d               | --destination       | 목적지 IP 주소를 지정합니다.                        | iptables -A INPUT -d 192.168.0.1              | all:all → 192.168.0.1:all ALL ACCEPT |
|                  | --dport             | 목적지 포트를 지정합니다.                           | iptables -A INPUT -p tcp --dport 80           | all:all → all:80 TCP ACCEPT |
|                  | --sport             | 소스 포트를 지정합니다.                             | iptables -A INPUT -p tcp --sport 1024         | all:1024 → all:all TCP ACCEPT |
| -i               | --in-interface      | 입력 인터페이스를 지정합니다.                       | iptables -A INPUT -i eth0                     | all:all → all:all in-interface:eth0 ACCEPT |
| -o               | --out-interface     | 출력 인터페이스를 지정합니다.                       | iptables -A OUTPUT -o eth0                    | all:all → all:all out-interface:eth0 ACCEPT |
| -m state         |                     | 상태 일치 모듈을 사용하여 패킷 상태를 지정합니다.   | iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT | all:all → all:all state:ESTABLISHED,RELATED ACCEPT |
|                  | --state             | 패킷의 상태를 지정합니다 (NEW, ESTABLISHED, RELATED, INVALID). | iptables -A INPUT -m state --state NEW        | all:all → all:all state:NEW ACCEPT |
| -j               | --jump              | 패킷이 일치할 경우 실행할 타겟을 지정합니다 (ACCEPT, DROP 등). | iptables -A INPUT -j ACCEPT                   | all:all → all:all ALL ACCEPT |
|                  | --icmp-type         | ICMP 패킷의 유형을 지정합니다.                       | iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT | all:all → all:all ICMP echo-request ACCEPT |
| -n               | --numeric           | IP 주소와 포트를 숫자 형식으로 출력합니다.           | iptables -L -n                                |                                           |
| -v               | --verbose           | 자세한 정보를 출력합니다.                            | iptables -L -v                                |                                           |
|                  | --line-numbers      | 각 규칙의 줄 번호를 표시합니다.                      | iptables -L --line-numbers                    |                                           |
>
{: .important }

<details markdown="block">
  <summary>
    코드
  </summary>
  {: .text-delta .label .label-green }
  
```bash

```

</details>


